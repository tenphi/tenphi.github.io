import{u as e,v as t,w as n}from"./index-957404e9.js";import{C as r}from"./converter-8d8b4a66.js";const s=/^(a(bstract|lias|nd|rguments|rray|s(m|sert)?|uto)|b(ase|egin|ool(ean)?|reak|yte)|c(ase|atch|har|hecked|lass|lone|ompl|onst|ontinue)|de(bugger|cimal|clare|f(ault|er)?|init|l(egate|ete)?)|do|double|e(cho|ls?if|lse(if)?|nd|nsure|num|vent|x(cept|ec|p(licit|ort)|te(nds|nsion|rn)))|f(allthrough|alse|inal(ly)?|ixed|loat|or(each)?|riend|rom|unc(tion)?)|global|goto|guard|i(f|mp(lements|licit|ort)|n(it|clude(_once)?|line|out|stanceof|t(erface|ernal)?)?|s)|l(ambda|et|ock|ong)|m(odule|utable)|NaN|n(amespace|ative|ext|ew|il|ot|ull)|o(bject|perator|r|ut|verride)|p(ackage|arams|rivate|rotected|rotocol|ublic)|r(aise|e(adonly|do|f|gister|peat|quire(_once)?|scue|strict|try|turn))|s(byte|ealed|elf|hort|igned|izeof|tatic|tring|truct|ubscript|uper|ynchronized|witch)|t(emplate|hen|his|hrows?|ransient|rue|ry|ype(alias|def|id|name|of))|u(n(checked|def(ined)?|ion|less|signed|til)|se|sing)|v(ar|irtual|oid|olatile)|w(char_t|hen|here|hile|ith)|xor|yield)$/,l=[["mrk",/#\[\[.+?]]#/],["imp",/!\[\[.+?]]!/],["pls",/(^|\n)\+\s.+($|\n)/],["mns",/(^|\n)-\s.+($|\n)/],["num",/#([0-9a-f]{6}|[0-9a-f]{3})\b/],["com",/(\/\/|#).*?(?=\n|$)/],["com",/\/\*[\s\S]*?\*\//],["com",/<!--[\s\S]*?-->/],["rex",/\/(\\\/|[^\n])*?\/(?=[^\w])/],["str",/(['"])(\\\1|[\s\S])*?\1/],["num",/[+-]?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)([eE][+-]?[0-9]+)?/],["spc",/\s+/],["nam",/[\w-$]+/],["pct",/[\\.,:;+\-*\/=<>()[\]{}|?!&@~]/],["unk",/./]];const i={pls:"+",mns:"+"},o={pls:"plus",mns:"minus"};function a(e,t,n){const r=e.split("\n");r[0]&&!r[0].trim()&&r.splice(0,1),r[r.length-1]&&!r[r.length-1].trim()&&r.splice(-1,1);const a=r.find(e=>e.trim().length);if(!a)return"";const c=a.match(/^\s*/)[0];c&&(e=r.map(e=>e.replace(c,"")).join("\n"));let u=0,p=2;const m=function(e){const t=[],n=l.length;let r=!1;for(;e;)for(let i=0;i<n;i+=1){let n=l[i][1].exec(e);if(!n||0!==n.index)continue;let o=l[i][0];if("rex"===o&&r)continue;let a=n[0];"nam"===o&&s.test(a)&&(o="key"),"spc"===o?a.indexOf("\n")>=0&&(r=!1):r="num"===o||"nam"===o,e=e.slice(a.length),t.push([o,a]);break}return t}(e);if(t){let e=1;m.forEach(t=>{if("spc"===t[0]){const n=t[1].match(/\n/g);n&&(e+=n.length)}}),p=1+String(e).length}function h(e){return Object.keys(n[e]).reduce((t,r)=>t+=`${r}="${n[e][r]}" `,"")}function d(e){const t=" ".repeat(p-String(u+1).length);return`${e?"":"\n"}<nu-el ${h("com")} before="${++u}.${t}"></nu-el>`}return m.reduce((function(e,n){let r=n[0],s=o[r]?" "+o[r]:"",l=i[r]?n[1].slice(2):n[1];return t&&"spc"===r&&(l=l.replace(/\n/g,e=>d())),"mrk"!==r&&"imp"!==r||(l=l.replace(/([!#]\[\[|]][!#])/g,"")),e+`<nu-el ${h(n[0])}${s}>${l}</nu-el>`}),t?d(!0):"")}let c=!1;const u={com:"0 0 low",spc:!1,nam:!1,key:"240 70",num:"280 100 pastel",pct:"60 pastel",rex:"340 70",str:"180 70",unk:"240 0",pls:"180 70",mns:"1 70",mrk:{hue:240,type:"tone"},imp:{hue:1,type:"special",lightness:"dim",saturation:75,pastel:!1}},p={};export default class extends r{static get converter(){return a}init(){this.props.enumerate=e=>(this.observe&&setTimeout(()=>this.observe()),null!=e),super.init(),c||(c=!0,Object.entries(u).forEach(([r,s])=>{if(s)if("object"==typeof s){const{hue:t,type:n,saturation:l,pastel:i,contrast:o,lightness:a}=s,c="snippet-"+r;e(document.body,{hue:null!=t?String(t):240,saturation:null!=l?l:i?100:75,pastel:null!=i&&i,name:c,type:n||"tint",lightness:a||"normal",contrast:o||"normal"},c),p[r]={theme:c},n&&(p[r].fill="")}else p[r]={color:""+t(n(s))};else p[r]={color:"--nu-main-text-color"}}))}apply(e,t,n){n&&(e.innerHTML=n(t,this.enumerate,p))}prepareContent(e){return(e||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/(^|\n)\s*(?=\n$)/g,"").replace(/\n\s*(?=(\n$|$))/g,"").replace(/^\n/,"").replace(/\n$/,"")}}export{u as CODE_THEMES,p as THEME_ATTRS};
