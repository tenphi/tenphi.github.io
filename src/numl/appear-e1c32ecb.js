import{B as t,d as e}from"./index-957404e9.js";function s(){e(document.body,"[nx-appear]").forEach(t=>{t.nuBehaviors.appear.apply()})}["scroll","resize","wheel","touchmove","tap"].forEach(t=>{window.addEventListener(t,s,{passive:!0})});export default class extends t{connected(){this.threshold=parseInt(this.params.threshold),this.timeout=parseInt(this.params.timeout)||0,isNaN(this.threshold)&&(this.threshold=50),setTimeout(()=>this.apply())}apply(){const{host:t}=this,e=t.getBoundingClientRect(),s=window.innerHeight;e.y<0&&e.y+e.height>0?this.setByThreshold((e.y+e.height)/e.height,"bottom"):e.y+e.height>s&&e.y<s?this.setByThreshold((s-e.y)/e.height,"top"):e.y>=0&&e.y+e.height<=s?this.setByThreshold(1,e.y-e.height/2<=s/2?"top":"bottom"):this.setByThreshold(0)}setByThreshold(t,e){const{threshold:s}=this;this.set(s/100<=t,e)}set(t,e){t?(setTimeout(()=>{this.setMod("appear",t)},this.timeout),this.appeared=!0):this.params.toggle?(setTimeout(()=>{this.setMod("appear",t)},this.timeout),this.appeared=!1):this.appeared&&this.host.removeAttribute("nx-appear")}}
